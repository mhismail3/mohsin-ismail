/* =============================================================================
   BASE STYLES
   Reset, typography defaults, and global element styles
   ============================================================================= */

/* ─────────────────────────────────────────────────────────────────────────────
   BOX SIZING RESET
   ───────────────────────────────────────────────────────────────────────────── */

*,
*::before,
*::after {
  box-sizing: border-box;
}

/* ─────────────────────────────────────────────────────────────────────────────
   DISABLE TRANSITIONS ON INITIAL LOAD
   
   Prevents any visual "flash" when the page first loads by disabling all
   transitions until the theme is fully applied. The .theme-ready class is
   added by ThemeContext after the initial render is complete.
   ───────────────────────────────────────────────────────────────────────────── */

html:not(.theme-ready) *,
html:not(.theme-ready) *::before,
html:not(.theme-ready) *::after {
  transition: none !important;
}

/* ─────────────────────────────────────────────────────────────────────────────
   GLOBAL THEME TRANSITIONS
   
   Ensures visual properties animate smoothly during theme changes.
   
   IMPORTANT: We intentionally EXCLUDE `color` from this global rule.
   
   Why? iOS Safari struggles when thousands of text elements all try to 
   animate their color simultaneously - it throttles/batches them, causing
   text to appear to transition much slower than backgrounds.
   
   The fix: Let text color change instantly (it's not jarring), and only
   add explicit color transitions to interactive elements (buttons, links)
   that actually benefit from the smooth animation.
   
   This dramatically improves iOS Safari performance while maintaining
   smooth transitions where they matter most.
   ───────────────────────────────────────────────────────────────────────────── */

*,
*::before,
*::after {
  transition-property: background-color, border-color, box-shadow, 
                       filter, outline-color;
  transition-duration: var(--theme-transition-duration, 0.2s);
  transition-timing-function: var(--theme-transition-ease, ease);
}

/* ─────────────────────────────────────────────────────────────────────────────
   INTERACTIVE ELEMENTS - Smooth color transitions
   
   These elements benefit from animated color transitions during theme change
   and hover/focus states. Limited count = no iOS Safari performance issues.
   ───────────────────────────────────────────────────────────────────────────── */

a,
button,
.pill,
.btn,
[role="button"] {
  transition-property: background-color, border-color, box-shadow, 
                       filter, outline-color, color, fill, stroke,
                       text-decoration-color, transform, -webkit-text-fill-color;
  transition-duration: var(--theme-transition-duration, 0.2s);
  transition-timing-function: var(--theme-transition-ease, ease);
}

/* ─────────────────────────────────────────────────────────────────────────────
   ROOT ELEMENTS
   ───────────────────────────────────────────────────────────────────────────── */

html {
  min-height: 100%;
  background: var(--color-bg);
  transition: background-color var(--duration-normal) ease;
}

body {
  margin: 0;
  min-height: 100vh;
  min-height: 100dvh;
  font-family: var(--font-body);
  background: var(--color-bg);
  color: var(--color-text);
  line-height: var(--leading-relaxed);
  /* Only transition background - text color changes instantly for iOS performance */
  transition: background-color var(--duration-normal) ease;
}

#root {
  min-height: 100vh;
  min-height: 100svh;
  min-height: 100dvh;
}

/* ─────────────────────────────────────────────────────────────────────────────
   LINKS
   ───────────────────────────────────────────────────────────────────────────── */

a {
  color: var(--aero);
  text-decoration: none;
}

a:hover {
  color: var(--pine);
}

/* ─────────────────────────────────────────────────────────────────────────────
   INTERACTIVE ELEMENTS
   ───────────────────────────────────────────────────────────────────────────── */

a,
button {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

button {
  font-family: inherit;
  -webkit-appearance: none;
  appearance: none;
  background: none;
  border: none;
  color: inherit;
  cursor: pointer;
}

/* ─────────────────────────────────────────────────────────────────────────────
   TYPOGRAPHY
   ───────────────────────────────────────────────────────────────────────────── */

h1,
h2,
h3,
h4 {
  font-family: var(--font-display);
  color: var(--color-text);
  margin: 0 0 0.35em;
  letter-spacing: var(--tracking-tight);
}

/* ─────────────────────────────────────────────────────────────────────────────
   UTILITY CLASSES
   ───────────────────────────────────────────────────────────────────────────── */

.eyebrow {
  font-size: var(--text-sm);
  font-weight: 700;
  letter-spacing: var(--tracking-wider);
  text-transform: uppercase;
  color: var(--color-text-muted);
}

.muted {
  color: var(--color-text-muted);
}

/* ─────────────────────────────────────────────────────────────────────────────
   SELECTION
   ───────────────────────────────────────────────────────────────────────────── */

::selection {
  background: var(--color-selection);
  color: var(--color-text);
}

/* ─────────────────────────────────────────────────────────────────────────────
   LAYOUT CONTAINERS
   ───────────────────────────────────────────────────────────────────────────── */

.app {
  position: relative;
  min-height: 100vh;
  min-height: 100svh;
  min-height: 100dvh;
  padding: 18px 14px 64px;
}

.frame {
  max-width: var(--max-width-content);
  margin: 0 auto;
  position: relative;
  display: flex;
  flex-direction: column;
  gap: var(--space-2xl);
  z-index: var(--z-base);
}

/* ─────────────────────────────────────────────────────────────────────────────
   EMPTY STATE
   ───────────────────────────────────────────────────────────────────────────── */

.empty-state {
  padding: 1rem;
  border: 1.5px dashed var(--color-border);
  border-radius: var(--radius-sm);
  text-align: center;
  color: var(--color-text-muted);
  background: var(--color-surface-glass);
}

/* ─────────────────────────────────────────────────────────────────────────────
   RESPONSIVE - DESKTOP
   ───────────────────────────────────────────────────────────────────────────── */

@media (min-width: 840px) {
  .app {
    padding: 28px 28px 72px;
  }

  .frame {
    gap: var(--space-3xl);
  }
}



